---
title: "博客的一些更新"
date: 2021-03-05T14:40:49+08:00
tags: ["algolia", "markdown", "image", "hugo", "blog"]
slug: "Blog-Migration"
description: "Blog Migration"
toc: false
---

许久没有更新博客了，2 月份一直在优化一些博客相关的服务和设施，最近在搞一个生产力工具。

## 服务器

从原来的 GitHub Pages 迁移到了阿里云轻量云服务器（中国香港）。因为家里全局有梯子，在公司也有，因此没感觉加载上有什么速度问题。直到有一次做测试才发现，实在是太慢了。。
于是，把服务搬到国内来，由于域名不能备案，只能选在香港服务器了。
同时，ci 一套也就相应变了，不过从原来用别人的 actions 到直接在服务器上跑一个 Github Actions Runner，直接 cp 就好了。

## 再见图床

之前每一次都是要传图床，然后粘贴地址，很费劲，于是自己搞了一个 Markdown 中的图片自动上传+替换链接的工具。用 go 写的。之前有人用 python 写过，感觉还不错。不过有一些需要牺牲的就是博客源码的文件结构可能会很乱了。。
但是！以后写博客可以直接复制粘贴 ulysses，写好了之后直接导出到 content 目录下加个 fromt matter 就好了

## algolia

之前的博客用的是 lunr.js 索引，在打包时生成文件在浏览器索引。那么结果是不支持中文的。
经过一番改造，将搜索框变成了可以支持 algolia 的索引，巴适得很。
Github Marketplace 上不知道这群人写的自动上传索引的工具咋这么奇怪呢，都用不了。于是自己又写了一个。

## 很奇怪

之前说过我用的主题是 `reuixiy` 小姐姐写的 `hugo-theme-meme` 。提过两个 pr。一个是图库模式，一个是 `algolia` 索引支持。第一个回复了我再也没管过，另一个压根就没回复，反倒能看见她 merge 了其他的简单的修改。可能是因为太忙了吗。
